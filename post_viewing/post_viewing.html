<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>投稿閲覧</title>
    <link rel="stylesheet" href="post_viewing.css">
</head>
<body>
    <header>
        <button id="back-button" onclick="window.location.href='/home/home.html'">
            ← 戻る
        </button>
        <span id="group-name">グループ名を取得中...</span>
        <div id="hamburger-menu">
            <div class="hamburger-icon" onclick="toggleMenu()">☰</div>
            <div id="menu-options" class="hidden">
                <button onclick="showMemberList()">メンバー一覧</button>
                <button onclick="inviteMember()">メンバー招待</button>
                <button onclick="leaveGroup()">退出</button>
            </div>
        </div>
    </header>

    <main class="timeline">
        <!-- 投稿の詳細が表示される領域 -->
    </main>

    <!-- フッター -->
    <footer>
        <a href="/home/home.html">
            <img src="/assets/images/footer/home.svg" alt="Home">
        </a>
        <a href="/post_viewing/post_viewing.html" class="active">
            <img src="/assets/images/footer/post_viewing.svg" alt="View">
        </a>
        <a href="/post_creation/search_place.html">
            <img src="/assets/images/footer/post_creation.svg" alt="Create">
        </a>
        <a href="/ring_navi/ring_navi.html">
            <img src="/assets/images/footer/ring_navi.svg" alt="AI">
        </a>
        <a href="/achievements/achievements.html">
            <img src="/assets/images/footer/achievements.svg" alt="Achievements">
        </a>
    </footer>

    <script>
        // グループ名を取得し表示
        document.addEventListener("DOMContentLoaded", async () => {
            const groupNameElement = document.getElementById("group-name");
            try {
                const response = await fetch('/get-group-name');
                if (response.ok) {
                    const data = await response.json();
                    groupNameElement.textContent = data.groupName || "グループ名未設定";
                } else {
                    groupNameElement.textContent = "グループ名取得エラー";
                }
            } catch (error) {
                console.error("グループ名取得エラー:", error);
                groupNameElement.textContent = "エラー";
            }
        });

        // ハンバーガーメニューの開閉
        function toggleMenu() {
            const menuOptions = document.getElementById("menu-options");
            menuOptions.classList.toggle("hidden");
        }

        // メンバー一覧を表示
        function showMemberList() {
            alert("メンバー一覧を表示する機能が未実装です。");
        }

        // メンバー招待
        function inviteMember() {
            alert("メンバー招待機能が未実装です。");
        }

        // グループ退出
        function leaveGroup() {
            alert("グループ退出機能が未実装です。");
        }
    </script>
</body>
</html>
