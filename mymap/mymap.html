<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Google Maps with Action Buttons</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIbW8SaZBjgKXB3yt7ig0OYnzD0TIi2h8&libraries=places"></script>
  <link rel="stylesheet" href="mymap.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

  <!-- ファビコン -->
  <link rel="icon" href="/assets/images/favicon/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicon/android-chrome-192x192.png">
  <link rel="apple-touch-icon" href="/assets/images/favicon/apple-touch-icon.png">
  <link rel="manifest" href="/assets/images/favicon/site.webmanifest">
</head>
<body>
  <!-- ヘッダー -->
    <header>
        <button id="back-button" onclick="window.location.href='/home/home.html'">← 戻る</button>
    </header>

  <div id="map"></div>

  <!-- フッター -->
    <footer>
        <a href="/home/home.html"><img src="/assets/images/footer/home.svg" alt="ホーム"></a>
        <a href="/post_viewing/post_viewing.html"><img src="/assets/images/footer/post_viewing.svg" alt="投稿を見る"></a>
        <a href="/post_creation/search_place.html"><img src="/assets/images/footer/post_creation.svg" alt="投稿を作成"></a>
        <a href="/ring_navi/ring_navi.html"><img src="/assets/images/footer/ring_navi.svg" alt="AI"></a>
        <a href="/achievements/achievements.html"><img src="/assets/images/footer/achievements.svg" alt="実績"></a>
    </footer>

  <!-- アクションパネル -->
  <div id="action-panel" class="action-panel hidden">
    <button id="route-btn" class="action-button">
      <i class="fas fa-route"></i> 経路案内
    </button>
    <button id="place-info-btn" class="action-button">
      <i class="fas fa-info-circle"></i> 詳細情報
    </button>
  </div>

  <!-- 詳細情報パネル -->
  <div id="details-panel" class="hidden"></div>

  <!-- ハンバーガーメニュー -->
  <div class="menu">
    <button class="hamburger" onclick="toggleMenu()">
      <div></div>
      <div></div>
      <div></div>
    </button>
    <ul id="menuItems" class="menuItems hidden">
      <li><a href="/mypage/mypage.html"class="no-style-link">マイページ</a></li>
      <li><a href="/fitness/fitness.html"class="no-style-link">フィットネス</a></li>
      <li><a href="/myring/my_ring.html"class="no-style-link">マイリング</a></li>
      <li><a href="/ring_navi/ring_navi.html"class="no-style-link">リングナビ</a></li>
      <li><a href="/weather/weather.html"class="no-style-link">詳細な天気</a></li>
    </ul>
  </div>

  <!-- 天気情報 -->
  <div id="weatherInfo" class="weather hidden">
    <h3>天気情報</h3>
    <p id="location">場所: -</p>
    <p id="temperature">気温: -</p>
    <p id="condition">天気: -</p>
  </div>

  <!-- トラベルモード選択パネル -->
  <div id="travel-mode-panel" class="hidden">
    <button id="walking-btn" class="travel-mode-button">
      <i class="fas fa-walking"></i> 徒歩
    </button>
    <button id="driving-btn" class="travel-mode-button">
      <i class="fas fa-car"></i> 車
    </button>
    <button id="transit-btn" class="travel-mode-button">
      <i class="fas fa-bus"></i> 公共交通機関
    </button>
    <div id="route-info"></div>
  </div>

  <!-- 天気ボタン -->
  <button class="weather-button" onclick="getWeather()">
    <i class="fas fa-cloud-sun"></i>
  </button>

  <!-- カメラボタン -->
  <button class="camera-button" onclick="startCamera()">
    <i class="fas fa-camera"></i>
  </button>

  <!-- みんなの投稿ボタン -->
  <button class="minna-button" onclick="navigateToPostViewing()">
    <i class="fas fa-globe"></i>
  </button>

  <!-- カメラプレビュー -->
  <video id="cameraFeed" autoplay class="hidden"></video>
  <button id="captureButton" class="hidden" onclick="capturePhoto()">撮影</button>

  <!-- JavaScriptファイルの読み込み -->
  <script src="/assets/js/auth.js"></script>
  <script src="/mymap/mymap.js"></script>
  <script src="/functions/mymap-handler"></script>
  <script 
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIbW8SaZBjgKXB3yt7ig0OYnzD0TIi2h8&callback=initMap&libraries=marker" 
        async 
        defer 
        loading="lazy">
    </script>
</body>
</html>
